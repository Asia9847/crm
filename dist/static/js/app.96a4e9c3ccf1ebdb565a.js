webpackJsonp([1],{MV3H:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("xd7I"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=a("C7Lr")({name:"App"},n,!1,function(e){a("MV3H")},null,null).exports,i=a("4DWU"),o=a.n(i),r=(a("epTE"),a("3XdE")),c=a("ZLEe"),u=a.n(c),d=a("aozt"),f=a.n(d),m=a("6iV/"),p=a.n(m),_={name:"Home",teachers_list:{},data:function(){return{tabledata:[],colunm_name:[],dialogTableVisible:!1,dialogFormVisible:!1,request:{url:""},form:{},fn:"",index:"",formLabelWidth:"120px",user:{name:"登陆"},col_name_data:{data_name:"teacher"}}},methods:{get_col_name:function(){this.api("get_column_name/","post",self.col_name_data,"col")},teacherManager:function(){self=this,self.request.url="teachers/",self.col_name_data.data_name="teacher",this.get_col_name(),this.api("teachers/","get",{},"list")},studentManager:function(){self=this,self.request.url="students/",self.col_name_data.data_name="student",this.get_col_name(),this.api("students/","get",{},"list")},courseManager:function(){self=this,self.request.url="courses/",self.col_name_data.data_name="course",this.get_col_name(),this.api("courses/","get",{},"list")},openDialog:function(e,t){self=this,self.fn=e,"update"==e&&(self.index=t,self.form=self.tabledata[t],console.log(self.tabledata)),self.dialogFormVisible=!0},api:function(e,t,a,l){self=this,f()({method:t,url:"http://127.0.0.1:8000/api/"+e,data:p.a.stringify(a),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){"col"==l&&(self.colunm_name=e.data.column_name),"list"==l?(self.tabledata=e.data,self.tabledata[0]&&(self.colunm_name=u()(self.tabledata[0]))):"add"==l&&self.tabledata.push(e.data)}).catch(function(e){console.log(e)})},dialog_ok:function(){self=this;var e=self.fn;if(self.dialogFormVisible=!1,"add"==e&&this.api(self.request.url,"post",self.form,e),"update"==self.fn){var t=self.tabledata[self.index].id;this.api(self.request.url+t+"/","put",self.form,"update")}this.api(self.request.url,"get",{},"")},del:function(e){var t=self.tabledata[e].id;this.api(self.request.url+t+"/","delete",self.form,"del"),console.log(self.tabledata),self.tabledata.splice(e,1),this.api(self.request.url,"get",{},"del"),console.log(self.tabledata)}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[e._m(0),e._v(" "),a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac"},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-menu-item",{attrs:{index:"1"},on:{click:e.teacherManager}},[a("span",[e._v("教师管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"2"},on:{click:e.studentManager}},[a("span",[e._v("学生管理")])]),e._v(" "),a("el-menu-item",{attrs:{index:"3"},on:{click:e.courseManager}},[a("span",[e._v("课程管理")])])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"right-top",staticStyle:{width:"100%"}},[a("div",{staticStyle:{float:"right"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{size:"small"}}),e._v(" "),a("el-button",{attrs:{type:"warning",icon:"el-icon-search",size:"small"}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){return e.openDialog("add","")}}},[e._v("增加")])],1)]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tabledata,height:"500",width:"100"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),e._l(e.colunm_name,function(e,t){return a("el-table-column",{key:t,staticStyle:{width:"20%"},attrs:{prop:e,label:e}})}),e._v(" "),a("el-table-column",{staticStyle:{width:"50%"},attrs:{width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){return e.openDialog("update",t.$index)}}},[e._v("更新")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.del(t.$index)}}},[e._v("删除")])]}}])},[e._v('\n        fixed="right"\n        label="Operations"\n        style="width:50%“>\n        ')])],2),e._v(" "),a("el-dialog",{attrs:{title:"增加一条新的数据",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},e._l(e.colunm_name,function(t,l){return a("el-form-item",{key:l,attrs:{prop:t,label:t,"label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form[t],callback:function(a){e.$set(e.form,t,a)},expression:"form[name]"}})],1)}),1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialog_ok()}}},[e._v("确定")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("h1",[t("span",{staticClass:"title"},[this._v("超级管理系统")])])])}]};var v=a("C7Lr")(_,h,!1,function(e){a("ky/b")},null,null).exports;l.default.use(r.a);var b=new r.a({routes:[{path:"/",name:"Home",component:v}]});l.default.config.productionTip=!1,l.default.use(o.a),new l.default({el:"#app",router:b,components:{App:s},template:"<App/>"})},epTE:function(e,t){},"ky/b":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.96a4e9c3ccf1ebdb565a.js.map